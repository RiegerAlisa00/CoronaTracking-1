<mat-toolbar color="primary">
  <a routerLink="/">Home</a>
    <span>


        <a routerLink="/admin">Admin</a>

        <a (click)="deleteSessionUserInfo()" routerLink="/login">Logout</a>
    </span>
</mat-toolbar>


<button (click)="addUserfunc()" style="margin-top: 2%;margin-bottom: 2%; background-color: blue; color: white;"> Add New User</button>
<form [formGroup]="newUserForm" (ngSubmit)="post()" novalidate *ngIf="addUser">
    <h1 style="text-align: center;">Add a New User:</h1>
    <mat-form-field style="width: 30%;">
        <mat-label>Email</mat-label>
        <input #emailInp matInput placeholder="example@gmail.com" formControlName="email" />
    </mat-form-field>
    <mat-form-field style="width: 30%;margin: 2%;">
        <mat-label>Password</mat-label>
        <input #pwInp matInput placeholder="password" formControlName="password"/>
    </mat-form-field>
    <mat-form-field style="width: 30%;margin: 2%;">
        <mat-label>Role</mat-label>
        <input #roleInp matInput placeholder="user or admin" formControlName="role"/>
    </mat-form-field>
    <button style="background-color: blue; color: white;"type ="submit">
        <span>Add user</span>
    </button>
    <div #unsuccessPost *ngIf="div1" style="color: red;">Invalid Inputs! Try Again!</div>
    <div #successPost *ngIf="div2" style="color: green;">You have successfully created the new user!</div>
</form>

<hr />
<button (click)="showUserfunc()" style="margin-top: 2%;margin-bottom: 2%; background-color: blue; color: white;"> Show/Hide User List</button>
<div *ngIf="showUser">
<h1 style="text-align: center;">User List</h1>
<table style="width: 50%; margin: auto; text-align: center;" border=1>
    <tr>
        <th>User Id</th>
        <th>User Email</th>
        <th>Delete</th>
    </tr>
    <tr *ngFor="let user of users$ | async">
        <td>{{user.id}}</td>
        <td>{{user.email}}</td>
        <td><button mat-icon-button color="warn">
            <mat-icon (click)= "delete(user.id)">delete</mat-icon>
        </button>
        </td>
    </tr>
</table>
</div>
